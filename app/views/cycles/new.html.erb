<p>New cycle: </p>

<%= form_for(@cycle, url: project_cycles_path(params[:project_id])) do |f| %>
  
  <%= f.label :name %><br>
  <%= f.text_field :name %><br>

  <%= f.label :duration_days %><br>
  <%= f.number_field :duration_days %><br>

  <%= f.label :start %><br>
  <%= f.date_field :start %><br>

  <%= f.label :morning_alert %><br>
  <%= f.time_field :morning_alert %><br>

  <%= f.label :evening_alert %><br>
  <%= f.time_field :evening_alert %><br>  

<!--   valid_seeds = Array.new
  Seed.all.each do |seed|
    if (seed.min_duration + seed.max_duration) / 2 <= :duration_days
      valid_seeds.push(seed)
  valid_seeds.pluck(:name).each do |seed| -->

  <% all_seeds = Seed.all.pluck(:name) %>
  <% all_seeds.sort_by!{ |s| s.downcase } %>

  <table>
    <% 0.upto((all_seeds.length - 1) / 4) do |index| %>
      <tr>
        <% i = index * 4 %>
        <td>
          <%= check_box_tag "seed_names[]", all_seeds[i] %>
          <%= all_seeds[i] %>
        </td>
        <% if all_seeds.length > (i + 1) %>
          <td>
            <%= check_box_tag "seed_names[]", all_seeds[i + 1] %>
            <%= all_seeds[i + 1] %>
          </td>
        <% end %>
        <% if all_seeds.length > (i + 2) %>
          <td>
            <%= check_box_tag "seed_names[]", all_seeds[i + 2] %>
            <%= all_seeds[i + 2] %>
          </td>
        <% end %>
        <% if all_seeds.length > (i + 3) %>
          <td>
            <%= check_box_tag "seed_names[]", all_seeds[i + 3] %>
            <%= all_seeds[i + 3] %>
          </td>
        <% end %>
      </tr>
    <% end %>
  </table><br>
  
  <%= f.submit %>

<% end %>

<%= link_to 'Cancel', project_path(params[:project_id]) %>